import{S as s,i as e,s as a,e as t,m as n,a as o,t as r,c as l,b as c,o as i,g as p,d as m,f,h as d,j as u,p as b,k as h,q as g,r as w,u as v,y as $,z as I}from"./client.e59787d2.js";import{O as j}from"./odometer.a2f2e3b6.js";import{r as k}from"./reconnecting-websocket.eb9bdc76.js";import"./odometer.7b90e3ba.js";function y(s){let e,a,$,I,k,y,x;return a=new j({props:{number:s[0],size:"80px",style:"font-family:'Quicksand', Courier, monospace"}}),{c(){e=t("div"),n(a.$$.fragment),$=o(),I=t("div"),k=r("pp"),this.h()},l(s){e=l(s,"DIV",{class:!0});var t=c(e);i(a.$$.fragment,t),$=p(t),I=l(t,"DIV",{class:!0});var n=c(I);k=m(n,"pp"),n.forEach(f),t.forEach(f),this.h()},h(){d(I,"class","text svelte-n8wb81"),d(e,"class",y="inline "+(s[1]?"":"not")+" svelte-n8wb81")},m(s,t){u(s,e,t),b(a,e,null),h(e,$),h(e,I),h(I,k),x=!0},p(s,[t]){const n={};1&t&&(n.number=s[0]),a.$set(n),(!x||2&t&&y!==(y="inline "+(s[1]?"":"not")+" svelte-n8wb81"))&&d(e,"class",y)},i(s){x||(g(a.$$.fragment,s),x=!0)},o(s){w(a.$$.fragment,s),x=!1},d(s){s&&f(e),v(a)}}}function x(s,e,a){let t,n,o,r=20727,l=0;return $((()=>{var s=window.location.hash.split("#");2==s.length&&"number"==typeof parseInt(s[1])&&(r=parseInt(s[1])),t=new k("ws://localhost:"+r+"/tokens",null,{debug:!0,reconnectInterval:3e3});let e=["ppIfMapEndsNow","status"];t.onopen=s=>{console.log("Connected to Websocket."),t.send(JSON.stringify(e))},t.onmessage=s=>{n={...n,...JSON.parse(s.data)},a(0,l=n.ppIfMapEndsNow),a(1,o=!(n.status<2||16==n.status)),o||a(0,l=0)}})),I((()=>{void 0!==t&&t.close()})),[l,o]}class E extends s{constructor(s){super(),e(this,s,x,y,a,{})}}export{E as default};
