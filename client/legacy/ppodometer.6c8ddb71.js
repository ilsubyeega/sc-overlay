import{_ as t,a as n,b as e,c as r,i as o,s as c,d as s,S as a,e as i,t as u,g as f,h as l,j as p,k as v,m as h,A as d,n as m,o as y,p as b,r as w,B as O,G as g,C as j,D as P,u as _,f as I,v as x,l as R,w as $,x as E,y as z,z as D}from"./client.c61e50a4.js";import{r as S,_ as k}from"./reconnecting-websocket.ebdf9478.js";function N(t,n,e,r,o,c,s){try{var a=t[c](s),i=a.value}catch(t){return void e(t)}a.done?n(i):Promise.resolve(i).then(r,o)}function B(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var c=t.apply(n,e);function s(t){N(c,r,o,s,a,"next",t)}function a(t){N(c,r,o,s,a,"throw",t)}s(void 0)}))}}function C(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,c=n(t);if(r){var s=n(this).constructor;o=Reflect.construct(c,arguments,s)}else o=c.apply(this,arguments);return e(this,o)}}function J(t){var n,e;return{c:function(){n=i("div"),e=u("1"),this.h()},l:function(t){n=f(t,"DIV",{class:!0,style:!0});var r=l(n);e=p(r,"1"),r.forEach(v),this.h()},h:function(){h(n,"class","odometer svelte-13mjxd0"),d(n,"font-size",t[0])},m:function(r,o){m(r,n,o),y(n,e),t[4](n)},p:function(t,e){1&b(e,1)[0]&&d(n,"font-size",t[0])},i:w,o:w,d:function(e){e&&v(n),t[4](null)}}}function M(t,n,e){var r,o,c,s=n.size,a=void 0===s?"20px":s,i=n.number,u=void 0===i?0:i,f=n.format,l=void 0===f?"(â€¯ddd)":f;return O(B(g.mark((function t(){return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([import("./odometer.e4e5ad32.js"),]).then((function(t){return t[0]})).then((function(t){return t.o}));case 2:r=t.sent.default,new r({el:o,value:0,format:l}).render(),c=setInterval((function(){e(1,o.innerHTML=u,o)}),1e3);case 6:case"end":return t.stop()}}),t)})))),j((function(){clearInterval(c)})),t.$$set=function(t){"size"in t&&e(0,a=t.size),"number"in t&&e(2,u=t.number),"format"in t&&e(3,l=t.format)},[a,o,u,l,function(t){P[t?"unshift":"push"]((function(){e(1,o=t)}))}]}var V=function(n){t(i,a);var e=C(i);function i(t){var n;return r(this,i),n=e.call(this),o(s(n),t,M,J,c,{size:0,number:2,format:3}),n}return i}();function A(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,c=n(t);if(r){var s=n(this).constructor;o=Reflect.construct(c,arguments,s)}else o=c.apply(this,arguments);return e(this,o)}}function T(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function G(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?T(Object(e),!0).forEach((function(n){k(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):T(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function H(t){var n,e,r,o,c,s,a;return e=new V({props:{number:t[0],size:"80px",style:"font-family:'Quicksand', Courier, monospace"}}),{c:function(){n=i("div"),_(e.$$.fragment),r=I(),o=i("div"),c=u("pp"),this.h()},l:function(t){n=f(t,"DIV",{class:!0});var s=l(n);x(e.$$.fragment,s),r=R(s),o=f(s,"DIV",{class:!0});var a=l(o);c=p(a,"pp"),a.forEach(v),s.forEach(v),this.h()},h:function(){h(o,"class","text svelte-n8wb81"),h(n,"class",s="inline "+(t[1]?"":"not")+" svelte-n8wb81")},m:function(t,s){m(t,n,s),$(e,n,null),y(n,r),y(n,o),y(o,c),a=!0},p:function(t,r){var o=b(r,1)[0],c={};1&o&&(c.number=t[0]),e.$set(c),(!a||2&o&&s!==(s="inline "+(t[1]?"":"not")+" svelte-n8wb81"))&&h(n,"class",s)},i:function(t){a||(E(e.$$.fragment,t),a=!0)},o:function(t){z(e.$$.fragment,t),a=!1},d:function(t){t&&v(n),D(e)}}}function L(t,n,e){var r,o,c,s=20727,a=0;return O((function(){var t=window.location.hash.split("#");2==t.length&&"number"==typeof parseInt(t[1])&&(s=parseInt(t[1])),r=new S("ws://localhost:"+s+"/tokens",null,{debug:!0,reconnectInterval:3e3});var n=["ppIfMapEndsNow","status"];r.onopen=function(t){console.log("Connected to Websocket."),r.send(JSON.stringify(n))},r.onmessage=function(t){o=G(G({},o),JSON.parse(t.data)),e(0,a=o.ppIfMapEndsNow),e(1,c=!(o.status<2||16==o.status)),c||e(0,a=0)}})),j((function(){void 0!==r&&r.close()})),[a,c]}var Q=function(n){t(i,a);var e=A(i);function i(t){var n;return r(this,i),n=e.call(this),o(s(n),t,L,H,c,{}),n}return i}();export default Q;
