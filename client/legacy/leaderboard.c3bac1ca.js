import{_ as t,a as n,b as r,c as e,i as o,s as a,d as c,S as i,e as f,t as s,f as u,g as l,h as p,j as v,l as h,k as d,m as y,n as g,o as m,p as b,q as O,r as P,u as j,v as w,w as B,x as R,y as $,z as S,A as C,B as D,C as k,D as x,E as N,F as E}from"./client.3675f3bf.js";import{r as I,_ as J}from"./reconnecting-websocket.476f668a.js";import"./odometer.7b90e3ba.js";function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,a=n(t);if(e){var c=n(this).constructor;o=Reflect.construct(a,arguments,c)}else o=a.apply(this,arguments);return r(this,o)}}function M(t){var n,r,e,o,a,c,i,j,w,B=t[0].Position+"",R=t[0].Username+"",$=t[0].Score+"";return{c:function(){n=f("div"),r=s("#"),e=s(B),o=u(),a=s(R),c=s(" (ACC)\r\n    "),i=f("br"),j=u(),w=s($),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var f=p(n);r=v(f,"#"),e=v(f,B),o=h(f),a=v(f,R),c=v(f," (ACC)\r\n    "),i=l(f,"BR",{}),j=h(f),w=v(f,$),f.forEach(d),this.h()},h:function(){y(n,"class","box svelte-3cocnm")},m:function(t,f){g(t,n,f),m(n,r),m(n,e),m(n,o),m(n,a),m(n,c),m(n,i),m(n,j),m(n,w)},p:function(t,n){var r=b(n,1)[0];1&r&&B!==(B=t[0].Position+"")&&O(e,B),1&r&&R!==(R=t[0].Username+"")&&O(a,R),1&r&&$!==($=t[0].Score+"")&&O(w,$)},i:P,o:P,d:function(t){t&&d(n)}}}function U(t,n,r){var e=n.data,o=void 0===e?[]:e,a=n.you,c=void 0!==a&&a;return t.$$set=function(t){"data"in t&&r(0,o=t.data),"you"in t&&r(1,c=t.you)},[o,c]}var _=function(n){t(f,i);var r=A(f);function f(t){var n;return e(this,f),n=r.call(this),o(c(n),t,U,M,a,{data:0,you:1}),n}return f}();function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,a=n(t);if(e){var c=n(this).constructor;o=Reflect.construct(a,arguments,c)}else o=a.apply(this,arguments);return r(this,o)}}function z(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function F(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?z(Object(r),!0).forEach((function(n){J(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function V(t,n,r){var e=t.slice();return e[5]=n[r],e[7]=r,e}function W(t){var n,r;return n=new _({props:{data:t[5]}}),{c:function(){j(n.$$.fragment)},l:function(t){w(n.$$.fragment,t)},m:function(t,e){B(n,t,e),r=!0},p:function(t,r){var e={};1&r&&(e.data=t[5]),n.$set(e)},i:function(t){r||(R(n.$$.fragment,t),r=!0)},o:function(t){$(n.$$.fragment,t),r=!1},d:function(t){S(n,t)}}}function G(t){for(var n,r,e=t[0],o=[],a=0;a<e.length;a+=1)o[a]=W(V(t,e,a));var c=function(t){return $(o[t],1,1,(function(){o[t]=null}))};return{c:function(){for(var t=0;t<o.length;t+=1)o[t].c();n=C()},l:function(t){for(var r=0;r<o.length;r+=1)o[r].l(t);n=C()},m:function(t,e){for(var a=0;a<o.length;a+=1)o[a].m(t,e);g(t,n,e),r=!0},p:function(t,r){var a=b(r,1)[0];if(1&a){var i;for(e=t[0],i=0;i<e.length;i+=1){var f=V(t,e,i);o[i]?(o[i].p(f,a),R(o[i],1)):(o[i]=W(f),o[i].c(),R(o[i],1),o[i].m(n.parentNode,n))}for(E(),i=e.length;i<o.length;i+=1)c(i);D()}},i:function(t){if(!r){for(var n=0;n<e.length;n+=1)R(o[n]);r=!0}},o:function(t){o=o.filter(Boolean);for(var n=0;n<o.length;n+=1)$(o[n]);r=!1},d:function(t){k(o,t),t&&d(n)}}}function H(t,n,r){var e,o,a=20727,c=[];return x((function(){var t=window.location.hash.split("#");2==t.length&&"number"==typeof parseInt(t[1])&&(a=parseInt(t[1])),e=new I("ws://localhost:"+a+"/tokens",null,{debug:!0,reconnectInterval:3e3});var n=["leaderBoardPlayers","leaderBoardMainPlayer"];e.onopen=function(t){console.log("Connected to Websocket."),e.send(JSON.stringify(n))},e.onmessage=function(t){o=F(F({},o),JSON.parse(t.data)),r(0,c=JSON.parse(o.leaderBoardPlayers)),JSON.parse(o.leaderBoardMainPlayer)}})),N((function(){void 0!==e&&e.close()})),[c]}var K=function(n){t(f,i);var r=q(f);function f(t){var n;return e(this,f),n=r.call(this),o(c(n),t,H,G,a,{}),n}return f}();export default K;
