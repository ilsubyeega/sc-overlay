import{_ as t,a as n,b as e,c as r,i as s,d as o,e as a,S as c,s as i,f,v as u,g as l,t as p,h as b,j as v,w as m,m as h,k as y,l as d,n as O,o as g,x as w,p as j,q as P,y as $,z as E,A as I,E as k,F as D}from"./client.8b456712.js";import{r as x,_ as R}from"./reconnecting-websocket.c4dfa189.js";import{O as S}from"./odometer.65719011.js";import"./odometer.7b90e3ba.js";function N(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,o=n(t);if(r){var a=n(this).constructor;s=Reflect.construct(o,arguments,a)}else s=o.apply(this,arguments);return e(this,s)}}function z(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function B(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?z(Object(e),!0).forEach((function(n){R(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):z(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function C(t){var n,e,r,s,o,a,c;return e=new S({props:{number:t[0],size:"80px",style:"font-family:'Quicksand', Courier, monospace"}}),{c:function(){n=f("div"),u(e.$$.fragment),r=l(),s=f("div"),o=p("pp"),this.h()},l:function(t){n=b(t,"DIV",{class:!0});var a=v(n);m(e.$$.fragment,a),r=h(a),s=b(a,"DIV",{class:!0});var c=v(s);o=y(c,"pp"),c.forEach(d),a.forEach(d),this.h()},h:function(){O(s,"class","text svelte-n8wb81"),O(n,"class",a="inline "+(t[1]?"":"not")+" svelte-n8wb81")},m:function(t,a){g(t,n,a),w(e,n,null),j(n,r),j(n,s),j(s,o),c=!0},p:function(t,r){var s=P(r,1)[0],o={};1&s&&(o.number=t[0]),e.$set(o),(!c||2&s&&a!==(a="inline "+(t[1]?"":"not")+" svelte-n8wb81"))&&O(n,"class",a)},i:function(t){c||($(e.$$.fragment,t),c=!0)},o:function(t){E(e.$$.fragment,t),c=!1},d:function(t){t&&d(n),I(e)}}}function J(t,n,e){var r,s,o,a=20727,c=0;return k((function(){var t=window.location.hash.split("#");2==t.length&&"number"==typeof parseInt(t[1])&&(a=parseInt(t[1])),r=new x("ws://localhost:"+a+"/tokens",null,{debug:!0,reconnectInterval:3e3});var n=["ppIfMapEndsNow","status"];r.onopen=function(t){console.log("Connected to Websocket."),r.send(JSON.stringify(n))},r.onmessage=function(t){s=B(B({},s),JSON.parse(t.data)),e(0,c=s.ppIfMapEndsNow),e(1,o=!(s.status<2||16==s.status)),o||e(0,c=0)}})),D((function(){void 0!==r&&r.close()})),[c,o]}var M=function(n){t(f,c);var e=N(f);function f(t){var n;return r(this,f),n=e.call(this),s(o(n),t,J,C,i,{}),n}return a(f)}();export{M as default};
